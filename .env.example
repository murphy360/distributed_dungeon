# Distributed Dungeon Environment Configuration
# Copy this file to .env and customize for your environment

# ===========================================
# GENERAL CONFIGURATION
# ===========================================
NODE_ENV=development
PROJECT_NAME=distributed-dungeon

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL Database
DATABASE_PASSWORD=dungeonmaster123
DATABASE_URL=postgresql://postgres:dungeonmaster123@database:5432/dungeon_db

# Redis Cache and Session Store
REDIS_PASSWORD=redispass123
REDIS_URL=redis://:redispass123@redis:6379

# ===========================================
# SERVICE PORTS (for external access)
# ===========================================
DUNGEON_MASTER_PORT=3001
DUNGEON_SERVICE_PORT=3002
MONSTER_SERVICE_PORT=3003
PLAYER_SERVICE_PORT=3004
COMMUNICATION_SERVICE_PORT=3005
RULES_ENGINE_PORT=3006

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# JWT Secret (CHANGE THIS IN PRODUCTION)
JWT_SECRET=your-super-secret-jwt-key-change-me-in-production
JWT_EXPIRATION=24h

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# AI INTEGRATION
# ===========================================
# Google Gemini API Key (Required for AI features)
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-1.5-flash
GEMINI_MAX_TOKENS=1000

# AI Rate Limiting
AI_REQUESTS_PER_MINUTE=10
AI_REQUESTS_PER_DAY=1000

# ===========================================
# DISCORD INTEGRATION
# ===========================================
# Discord Bot Configuration
DISCORD_BOT_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_GUILD_ID=your_discord_guild_id_here

# Discord Bot Settings
DISCORD_COMMAND_PREFIX=!dnd
DISCORD_MAX_MESSAGE_LENGTH=2000

# ===========================================
# MESHTASTIC INTEGRATION (Optional)
# ===========================================
# Meshtastic Device Configuration
MESHTASTIC_DEVICE=/dev/ttyUSB0
MESHTASTIC_BAUD_RATE=115200
MESHTASTIC_ENABLED=false

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ===========================================
# MONITORING & HEALTH CHECKS
# ===========================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Metrics Collection
METRICS_ENABLED=true
METRICS_PORT=9090

# ===========================================
# GAME CONFIGURATION
# ===========================================
# Default Game Settings
DEFAULT_MAX_PLAYERS_PER_DUNGEON=6
DEFAULT_SESSION_TIMEOUT=4h
DEFAULT_COMBAT_ROUND_TIME=30s

# Character Creation Limits
MAX_CHARACTERS_PER_USER=10
STARTING_LEVEL_LIMIT=3
MAX_LEVEL=20

# ===========================================
# FILE STORAGE
# ===========================================
# File Upload Configuration
UPLOAD_MAX_SIZE=10MB
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_PATH=./uploads

# Avatar and Asset Storage
AVATAR_MAX_SIZE=2MB
MAP_MAX_SIZE=50MB

# ===========================================
# NOTIFICATION SETTINGS
# ===========================================
# Email Configuration (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password

# Notification Settings
NOTIFY_ON_PLAYER_JOIN=true
NOTIFY_ON_COMBAT_START=true
NOTIFY_ON_LEVEL_UP=true

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# Development Mode Settings
DEV_AUTO_RELOAD=true
DEV_MOCK_AI=false
DEV_SEED_DATABASE=true

# Debug Settings
DEBUG_SQL=false
DEBUG_WEBSOCKETS=false
DEBUG_AI_REQUESTS=false

# ===========================================
# PRODUCTION OVERRIDES
# ===========================================
# Uncomment and configure for production deployment

# SSL Configuration
# SSL_ENABLED=true
# SSL_CERT_PATH=/etc/ssl/certs/distributed-dungeon.crt
# SSL_KEY_PATH=/etc/ssl/private/distributed-dungeon.key

# Production Database (if different)
# PROD_DATABASE_URL=postgresql://username:password@prod-db-host:5432/dungeon_db

# External Redis (if using managed service)
# PROD_REDIS_URL=redis://username:password@prod-redis-host:6379

# Production Logging
# PROD_LOG_LEVEL=error
# PROD_SENTRY_DSN=your_sentry_dsn_here

# ===========================================
# SCALING CONFIGURATION
# ===========================================
# Service Scaling
DUNGEON_MASTER_REPLICAS=1
DUNGEON_SERVICE_REPLICAS=2
MONSTER_SERVICE_REPLICAS=3
PLAYER_SERVICE_REPLICAS=2
COMMUNICATION_SERVICE_REPLICAS=1
RULES_ENGINE_REPLICAS=2

# Database Connection Pooling
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000

# Redis Connection Pooling
REDIS_POOL_MIN=2
REDIS_POOL_MAX=10

# ===========================================
# BACKUP CONFIGURATION
# ===========================================
# Automated Backup Settings
BACKUP_ENABLED=true
BACKUP_INTERVAL=6h
BACKUP_RETENTION_DAYS=30

# Backup Storage
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key